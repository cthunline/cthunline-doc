"use strict";(self.webpackChunkcthunline_doc=self.webpackChunkcthunline_doc||[]).push([[936],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>m});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=r.createContext({}),s=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},d=function(e){var n=s(e.components);return r.createElement(c.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},u=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=s(t),m=o,y=u["".concat(c,".").concat(m)]||u[m]||p[m]||i;return t?r.createElement(y,a(a({ref:n},d),{},{components:t})):r.createElement(y,a({ref:n},d))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,a=new Array(i);a[0]=u;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var s=2;s<i;s++)a[s]=t[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}u.displayName="MDXCreateElement"},7004:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var r=t(7462),o=(t(7294),t(3905));const i={},a="Docker deployment",l={unversionedId:"documentation/deployment/deploy-docker",id:"documentation/deployment/deploy-docker",title:"Docker deployment",description:"Cthunline can be easily deployed using Docker images.",source:"@site/docs/documentation/deployment/deploy-docker.md",sourceDirName:"documentation/deployment",slug:"/documentation/deployment/deploy-docker",permalink:"/docs/documentation/deployment/deploy-docker",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Introduction",permalink:"/docs/documentation/introduction"},next:{title:"Reverse proxy",permalink:"/docs/documentation/deployment/deploy-proxy"}},c={},s=[{value:"docker-compose.yml",id:"docker-composeyml",level:2},{value:".env",id:"env",level:2}],d={toc:s};function p(e){let{components:n,...t}=e;return(0,o.kt)("wrapper",(0,r.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"docker-deployment"},"Docker deployment"),(0,o.kt)("p",null,"Cthunline can be easily deployed using Docker images."),(0,o.kt)("p",null,"You will find below an example of ",(0,o.kt)("inlineCode",{parentName:"p"},"docker-compose.yaml")," file and its ",(0,o.kt)("inlineCode",{parentName:"p"},".env")," companion."),(0,o.kt)("p",null,"Edit configuration as you wish then use ",(0,o.kt)("inlineCode",{parentName:"p"},"docker-compose up -d")," (or ",(0,o.kt)("inlineCode",{parentName:"p"},"docker compose up -d")," for earlier versions) to run the container."),(0,o.kt)("h2",{id:"docker-composeyml"},"docker-compose.yml"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"version: '3'\n\nservices:\n  cthunline:\n    image: pitininja/cthunline\n    container_name: cthunline\n    restart: always\n    env_file:\n      - .env\n    volumes:\n      - cthunline_assets:/data/assets\n      - cthunline_logs:/data/logs\n    networks:\n      - cthunline-network\n    ports:\n      - 8080:8080\n      # if your container is served by a reverse proxy then bind to localhost only\n      # - 127.0.0.1:8080:8080\n  mariadb:\n    image: mariadb\n    restart: always\n    networks:\n      - cthunline-network\n    environment:\n      MARIADB_RANDOM_ROOT_PASSWORD: yes\n      MARIADB_USER: cthunline\n      MARIADB_PASSWORD: cthunline\n      MARIADB_DATABASE: cthunline\n\nvolumes:\n  cthunline_assets:\n  cthunline_logs:\n\nnetworks:\n  cthunline-network:\n    name: cthunline\n")),(0,o.kt)("h2",{id:"env"},".env"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"#\n# App\n#\n# Credentials for the default user\nDEFAULT_ADMIN_NAME=admin\nDEFAULT_ADMIN_EMAIL=admin@admin.com\nDEFAULT_ADMIN_PASSWORD=cthunline\n# If registration is enabled\nREGISTRATION_ENABLED=1\n# (optional) If registering must require an invitation code\nINVITATION_ENABLED=1\n# Default theme (dark or light)\nDEFAULT_THEME=dark\n# Default language\nDEFAULT_LOCALE=en\n#\n# Server\n#\n# Environment (prod or dev)\n# If prod, client build will be served by the server\n# If dev, backend server and front client are run separately\nENVIRONMENT=prod\n# Server port\nPORT=8080\n# JWT secret\nJWT_SECRET=abcdef1234567890\n# Cookie signing secret\nCOOKIE_SECRET=abcdef123456789\n# If cookies must be secured (HTTPS only)\nCOOKIE_SECURE=1\n# If logs are enabled\nLOG_ENABLED=1\n# (optional) Directory in which logs are stored\n# If omitted logs will only appear in console\nLOG_DIR=/var/log/cthunline\n# If server is behind a revese proxy\nREVERSE_PROXY=1\n# Rate limiter options (protects login and registration endpoints)\n# Window duration in minutes\nRL_WINDOW_DURATION=10\n# Maximum number of requests per window\nRL_MAX_REQUESTS=100\n#\n# Database\n#\n# (optional) Disable Prisma telemetry\n# It's very much recommanded as we don't like telemetry bullshit in here\nCHECKPOINT_DISABLE=1\n# MySQL connection URL\nDATABASE_URL=mysql://username:password@host:3306/database\n#\n# Assets\n#\n# Directory in which assets are uploaded (images and audio)\nASSET_DIR=/path/to/assets\n# Maximum upload size in Mb (total)\nASSET_MAX_SIZE_MB=100\n# Maximum upload size per file in Mb\nASSET_MAX_SIZE_MB_PER_FILE=20\n")))}p.isMDXComponent=!0}}]);